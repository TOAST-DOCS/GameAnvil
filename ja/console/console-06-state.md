## Game > GameAnvil > コンソール使用ガイド > 状態


## 状態
一つのゲームサービスのために複数のゲームサーバーを構成できます。 そして、各ゲームサーバーは複数のノードで構成できます。このようなサーバーとノードは異なる状態値を持ちます。このドキュメントの残りの部分では、サーバーとノードの状態について説明します。



## サーバーの状態

サーバーの状態は、プロセス(S/W)とインスタンス(H/W)の状態を複合的に表現します。サーバー管理ページで見ることができるダッシュボードは、このようなサーバーの状態を一覧表示し、それぞれの状態に属するサーバーの台数を表示しています。 また、色でそれぞれの状態を表しています。

![図](https://static.toastoven.net/prod_gameanvil/images/console/state/dashboard.png)

<br>
以下は、各サーバーの状態に関する説明です。

| サーバー状態     | 意味                                                                                        |
|------------|-------------------------------------------------------------------------------------------|
| ERROR      | サーバーが正常でないすべての状態を表現します。この場合、該当サーバーは再起動コマンドのみ可能です。再起動してSTANDBYの状態になると、他のコマンドが有効になります。 |
| RUNNING    | サーバーが正常に動作している状態です。 つまり、ゲームサーバープロセスが問題なく正常に開始されたことを意味します。                                       |
| STANDBY    | サーバーインスタンスが正常に起動され、GameAnvilサービスと通信が可能です。この場合、起動コマンドを使用してゲームサーバープロセスを駆動できます。    |
| SAFE PAUSE | サーバーに属する一部のノードがSafe Pauseを進行中です。                                |
| TRANSIT    | 2つの状態を切り替えています。目標状態への移行が完了するまで、そのサーバーにコマンドを送信できません。                                |


## ノード状態

ノード状態は、1つのゲームサーバーを構成する複数のノードの状態を示します。 また、同じサーバー上のノードであっても、異なる状態になることがあります。

| ノード状態 | 意味 |
| ----------- | --------------------------- |
| INIT | ノードの初期化中 |
| PREPARE | ノード初期化後、準備作業進行中 |
| READY | ノード駆動が完了し、サービス可能な状態 |
| READY(LOCK) | SAFE PAUSE中のノードからユーザー/ルームの転送を受け付け中(ベータ的なサービス可能状態) |
| PAUSE | 一時停止状態 |
| RESUME | PAUSEから再開 |
| SAFE PAUSE | SAFE PAUSE進行中です。 SAFE PAUSEが完了するとPAUSE状態になります。 |
| INVALID | ノード負荷が高い場合、一時的にノード情報を確認できない状態(自動的に復旧) |
| DISABLE | INVALID状態が長く続いたり、障害などでサービス不可能な状態(自動的に復旧しない) |



## Safe Pause関連状態

サーバーの状態とノードの状態の中にはSafe Pauseに関連するものがあります。任意のノードに対してSafe Pauseを進める場合、サーバーとノードはその状態に遷移(Transit)します。以下はこれに対する追加説明です。


#### Safe Pauseを進行するノードの状態

* SAFE PAUSE：任意のノードを安全に停止(Safe Pause)させる場合、そのノードが処理中だった情報は安全に他のノードに移管されます。このような一連の過程をSAFE PAUSE状態として表します。この状態のノードは全ての情報を移管した後、PAUSE状態に入ります。
* READY(LOCK)： Safe Pauseするノードで処理中だったユーザー/ルームなどの情報を移管するノードの状態です。 この状態のノードは移管が完了するまで外部コマンドを実行できません。 つまり、Safe Pauseが完了するまでベータ版のREADY状態になります。

#### Safe Pauseを進行するサーバーの状態

* サーバーを構成する複数のノードの一部がSAFE PAUSEまたはREADY(LOCK)状態になることがあります。このようなサーバーの状態は暗黙的にSAFE PAUSE状態で表現します。


Safe Pauseの詳しい説明は[Safe Pause](console-09-safe-pause.md)を参照してください。
